{"version":3,"file":"home.module-166a738e.js","sources":["../../../../store/services/home.service.ts","../../../../store/modules/home.module.ts"],"sourcesContent":["import { provideApi } from '~/composables/useApi'\nconst api = provideApi()\n// const api = provideApi();\n\nconst home = async () => {\n  try {\n    const { data } = await api.get('/api/home/')\n\n    if (!data?.data?.events) return null\n\n    // Filtrar eventos con summary vacÃ­o\n    interface Event {\n      summary: string\n      [key: string]: any\n    }\n\n    interface HomeData {\n      events: Event[]\n      [key: string]: any\n    }\n\n    interface ApiResponse {\n      data: HomeData\n      [key: string]: any\n    }\n\n    const filteredEvents: Event[] = (data as ApiResponse).data.events.filter((event: Event) => event.summary != \"\")\n\n    // Retornar el mismo formato de datos, pero con los eventos filtrados\n    return {\n      ...data,\n      data: {\n        ...data.data,\n        events: filteredEvents\n      }\n    }\n  } catch (error) {\n    return Promise.reject(error)\n  }\n}\n\n\nexport default {\n  namespaced: true,\n  home\n}\n","import { defineStore } from 'pinia'\nimport homeService from '~/store/services/home.service'\n\nexport const useHome = defineStore('home', {\n    state: () => ({\n        header: null,\n        events: []\n    }),\n    actions: {\n        setHeader(value: any) {\n            this.header = value;\n        },\n        setEvents(value: any) {\n            this.events = value;\n        },\n        async find() {\n            try {\n                this.setHeader(null);\n                this.setEvents([]);\n                const response = await homeService.home()\n                this.setHeader((response.data && response.data.header)?response.data.header:null);\n                this.setEvents((response.data && response.data.events)?response.data.events:[]);\n                return { ok: true, response: response }\n            } catch (error: any) {\n                return { ok: false, error: error?.response || 'Error' }\n            }\n        },\n    },\n    getters: {\n    },\n})\n"],"names":[],"mappings":";;AACA,MAAM,MAAM,WAAW;AAGvB,MAAM,OAAO,YAAY;;AACnB,MAAA;AACF,UAAM,EAAE,KAAK,IAAI,MAAM,IAAI,IAAI,YAAY;AAEvC,QAAA,GAAC,kCAAM,SAAN,mBAAY;AAAe,aAAA;AAkB1B,UAAA,iBAA2B,KAAqB,KAAK,OAAO,OAAO,CAAC,UAAiB,MAAM,WAAW,EAAE;AAGvG,WAAA;AAAA,MACL,GAAG;AAAA,MACH,MAAM;AAAA,QACJ,GAAG,KAAK;AAAA,QACR,QAAQ;AAAA,MACV;AAAA,IAAA;AAAA,WAEK;AACA,WAAA,QAAQ,OAAO,KAAK;AAAA,EAC7B;AACF;AAGA,MAAe,cAAA;AAAA,EACb,YAAY;AAAA,EACZ;AACF;AC1Ca,MAAA,UAAU,YAAY,QAAQ;AAAA,EACvC,OAAO,OAAO;AAAA,IACV,QAAQ;AAAA,IACR,QAAQ,CAAC;AAAA,EAAA;AAAA,EAEb,SAAS;AAAA,IACL,UAAU,OAAY;AAClB,WAAK,SAAS;AAAA,IAClB;AAAA,IACA,UAAU,OAAY;AAClB,WAAK,SAAS;AAAA,IAClB;AAAA,IACA,MAAM,OAAO;AACL,UAAA;AACA,aAAK,UAAU,IAAI;AACd,aAAA,UAAU,CAAA,CAAE;AACX,cAAA,WAAW,MAAM,YAAY;AAC9B,aAAA,UAAW,SAAS,QAAQ,SAAS,KAAK,SAAQ,SAAS,KAAK,SAAO,IAAI;AAC3E,aAAA,UAAW,SAAS,QAAQ,SAAS,KAAK,SAAQ,SAAS,KAAK,SAAO,CAAE,CAAA;AACvE,eAAA,EAAE,IAAI,MAAM;eACd;AACL,eAAO,EAAE,IAAI,OAAO,QAAO,+BAAO,aAAY;MAClD;AAAA,IACJ;AAAA,EACJ;AAAA,EACA,SAAS,CACT;AACJ,CAAC;"}